<!-- <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd"> -->

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
 	<meta name="description" content="编程">
 	<meta name="keywords" content="IT教程 ">
    <meta name="viewport" content="width=device-width, initial-scale=1 , user-scalable=no">
    
<!-- <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/> -->
<title>旋转矩阵-OpenGL 教程</title>


    

	<link rel="stylesheet" href="/lib/css/bootstrap.min.css">
    <link rel="stylesheet" href="/lib/css/bootstrap-maizi.css">
    <link rel="stylesheet" href="/lib/css/animate.css">
    <!-- <script  src="https://libs.baidu.com/jquery/1.10.2/jquery.min.js"></script> -->
    <script src="/lib/js/jquery.min.js"></script>
    <script src="/lib/js/bootstrap.min.js"></script>
    
    <script src="/lib/js/jquery.singlePageNav.min.js"></script>
    <script src="/lib/js/jquery.cookie.js"></script>
    
	
<script src="/js/article.js"></script>
<!--百度统计-->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?a684a10bc59d54f03381c502765556bb";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


<script type="text/javascript">
    // var siteHome = './';
    var staticHTMLUri = '/';
</script>


</head>
<body>
	
		  
		   <div style="height:50px;margin-bottom: 0px;"><nav class="navbar navbar-default navbar-fixed-top" id="topNav">		   <div class="container"> 
		    <!--导航--> 
		    <!--小屏幕导航按钮和logo--> 
		    <div class="navbar-header"> 
		     <button class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> 
		     <a href="https://guitom.github.io/" class="navbar-brand" style="color: #1196EE;"><span>趣通小教程</span>&nbsp;<span>guitom.github.io</span></a> 
		    </div> 
		    <!--小屏幕导航按钮和logo--> 
		    <div class="navbar-collapse collapse"> 
		     <div class="profile navbar-right"> 
			      <!-- 	<ul class="nav navbar-nav"> 
			       		<li><a href="#home" data-toggle="modal" id="collector">收藏夹</a></li>
			       		<li><a href="#home" data-toggle="modal" id="homePageloginBtn">登录</a></li> 
			      		<li><a href="#home" data-toggle="modal" id="loginStatus"></a></li> 
			      	</ul>  -->
		      		
		     </div> 
		     <ul class="nav navbar-nav navbar-center"> 
		      <li> 
		       <!--搜索框--> 
		       <div class="input-group hidden" id="searchBox" style="max-width:300px;height:30px;margin-top:10px;"> 
		        <input type="text" class="form-control input-md" placeholder="输入关键词" onkeydown="onKeyDown(event)" /> 
		        <span class="input-group-addon btn btn-primary">搜索</span> 
		       </div> 
		       <!--搜索框--></li> 
	
		     </ul> 
		    </div> 
		   </div> </nav></div>
		  
	
	
<style type="text/css">
    .panel-heading{
        padding-top: 5px;
        padding-right: 5px;
    }
    .panel-body {
        padding: 10px;
    }
    .panel-body div {
        padding-left: 20px;
    }

    .menu-container{
        border-width: 2px;
        border-radius: 5px;
        border-color: green;
        border:5px solid #f6f4f0;
    
    }
    .menu-container div{
        padding-right: 10px;
        padding-left: 10px;
        line-height: 30px;
    }
    .chapter{
        background-color: #f0f0f0;
        font-weight: bold;

    }
    .course{
        background-color: #e2e2e2;
        text-indent: 0em;
    }
    .normal{
        color: black;
    }
    .selected{
        background-color: #1196EE;
        color: white;
    }
    .block{
        /*border: thick solid #e1e1e1;*/
        
    }
    .preview{
        display: none;
    }
    .item{
        border-bottom-style:solid;
        border-width: 1px;
        border-color: #f1f1f1;
        cursor:pointer;
    }
    .content{
        border-radius: 5px;
    }
    a:hover{
        text-decoration: none;
    }
    body{
        background-color: #dfdfdf;
    }
    td {
        border: 1px solid #ddd
    }
</style>
<div class="container">
<!-- <div class="row">
    <div class="col-sm-12" style="background-color: white;border-radius:8px;border-style: solid;border-color:#dfdfdf ">
        
    </div>
</div> -->
<div class="row">
    <div class="col-sm-12 text-center" style="padding-top: 20px;">
        <strong>旋转矩阵-OpenGL 教程</strong>
    </div>
</div>
<div class="row" style="margin-top:5px;">
    <div class="col-sm-2" style="overflow-y: auto;max-height:100%;overflow-x: hidden;">
                <div class="menu-container">
                    <div id="99c2cB99" class="item course normal selected">渲染管线</div><div id="1B4Ca572" class="item course normal">小测验</div><div id="a4A48AC0" class="item course normal">vao\vbo\ibo异同</div><div id="4C521751" class="item course normal">旋转矩阵</div><div id="38a7B824" class="item course normal">投影矩阵</div><div id="96aC5a03" class="item course normal">法线矩阵</div><div id="417c0bcC" class="item course normal">坐标分类</div><div id="2934a1Bc" class="item course normal preview"> 光照</div>
                </div>
                <div style="float:left;margin-top: 30px;width: 1px;height: 100%;background: darkgray;"></div>
        </div>
    <div class="col-sm-10 content" style="overflow-y: auto;height: 100%;background-color: white;padding-top:20px;">
         <div class="row">
             <div class="col-sm-12">
                 <h1 class="postTitle" style="font-size: 14.7px; margin-bottom: 10px; color: rgb(75, 75, 75); font-family: &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; white-space: normal;"><a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/zhoug2020/p/7842808.html" style="text-decoration-line: none; color: rgb(86, 182, 233);"><span style="line-height: 1.5; vertical-align: middle;">旋转变换（一）旋转矩阵</span></a></h1><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><strong>1.&nbsp;</strong><strong>简介</strong></p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">计算机图形学中的应用非常广泛的变换是一种称为仿射变换的特殊变换，在仿射变换中的基本变换包括平移、旋转、缩放、剪切这几种。本文以及接下来的几篇文章重点介绍一下关于旋转的变换，包括二维旋转变换、三维旋转变换以及它的一些表达方式（旋转矩阵、四元数、欧拉角等）。</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><strong>2.&nbsp;</strong><strong>绕原点二维旋转</strong></p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">首先要明确旋转在二维中是绕着某一个点进行旋转，三维中是绕着某一个轴进行旋转。二维旋转中最简单的场景是绕着坐标原点进行的旋转，如下图所示：</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">&nbsp;<img src="/upload/image/202136/161759789499.png" alt="" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">如图所示点v 绕 原点旋转<em>θ</em>&nbsp;角，得到点v’，假设 v点的坐标是(x, y) ，那么可以推导得到 v’点的坐标（x’, y’)(设原点到v的距离是r，原点到v点的向量与x轴的夹角是<em>ϕ</em>&nbsp;)<br/><em>x</em>=<em>rcosϕy</em>=<em>rsinϕ</em><br/><em>x</em>′=<em>rcos</em>(<em>θ</em>+<em>ϕ</em>)<em>y</em>′=<em>rsin</em>(<em>θ</em>+<em>ϕ</em>)<br/>通过三角函数展开得到<br/><em>x</em>′=<em>rcosθcosϕ</em>−<em>rsinθsinϕ</em><br/><em>y</em>′=<em>rsinθcosϕ</em>+<em>rcosθsinϕ</em><br/>带入x和y表达式得到<br/><em>x</em>′=<em>xcosθ</em>−<em>ysinθ</em><br/><em>y</em>′=<em>xsinθ</em>+<em>ycosθ</em><br/>写成矩阵的形式是：</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">&nbsp;<img src="/upload/image/202136/161759357989.png" alt="" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">尽管图示中仅仅表示的是旋转一个锐角<em>θ</em>的情形，但是我们推导中使用的是三角函数的基本定义来计算坐标的，因此当旋转的角度是任意角度（例如大于180度，导致v’点进入到第四象限）结论仍然是成立的。</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><strong>3.&nbsp;</strong><strong>绕任意点的二维旋转</strong></p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">绕原点的旋转是二维旋转最基本的情况，当我们需要进行绕任意点旋转时，我们可以把这种情况转换到绕原点的旋转，思路如下：<br/>1. 首先将旋转点移动到原点处<br/>2. 执行如2所描述的绕原点的旋转<br/>3. 再将旋转点移回到原来的位置</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">&nbsp;<img src="/upload/image/202136/161759319618.png" alt="" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">也就是说在处理绕任意点旋转的情况下需要执行两次平移的操作。假设平移的矩阵是T(x,y)，也就是说我们需要得到的坐标 v’=T(x,y)*R*T(-x,-y)（我们使用的是列坐标描述点的坐标，因此是左乘，首先执行T(-x,-y)）</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">在计算机图形学中，为了统一将平移、旋转、缩放等用矩阵表示，需要引入齐次坐标。（假设使用2x2的矩阵，是没有办法描述平移操作的，只有引入3x3矩阵形式，才能统一描述二维中的平移、旋转、缩放操作。同理必须使用4x4的矩阵才能统一描述三维的变换）。</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">对于二维平移，如下图所示，P点经过x和y方向的平移到P’点，可以得到：</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">&nbsp;<img src="/upload/image/202136/161759996039.png" alt="" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><em>x</em>′=<em>x</em>+<em>tx</em></p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><em>y</em>′=<em>y</em>+<em>ty</em><br/>由于引入了齐次坐标，在描述二维坐标的时候，使用（x，y，w）的方式（一般w=1），于是可以写成下面矩阵的形式</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><img src="/upload/image/202136/161759527834.png" alt="" width="370" height="87" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><br/>按矩阵乘法展开，正好得到上面的表达式。也就是说平移矩阵是</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">&nbsp;<img src="/upload/image/202136/161759926509.png" alt="" width="171" height="137" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">如果平移值是（-tx，-ty）那么很明显平移矩阵式</p><p style="line-height: 1.5; margin: 10px auto;">&nbsp;<img src="/upload/image/202136/161759896169.png" alt="" width="183" height="126" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="line-height: 1.5; margin: 10px auto;">我们可以把2中描述的旋转矩阵也扩展到3x3的方式，变为：</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">&nbsp;<img src="/upload/image/202136/161759197721.png" alt="" width="325" height="91" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><br/>从平移和旋转的矩阵可以看出，3x3矩阵的前2x2部分是和旋转相关的，第三列与平移相关。有了上面的基础之后，我们很容易得出二维中绕任意点旋转的旋转矩阵了，只需要把三个矩阵乘起来即可：<br/><br/></p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><img src="/upload/image/202136/161759602953.png" alt="" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><strong>4.&nbsp;</strong><strong>三维基本旋转</strong></p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">我们可以把一个旋转转换为绕基本坐标轴的旋转，因此有必要讨论一下绕三个坐标值x、y、z的旋转。<br/>本文在讨论过程中使用的是类似于OpenGL中定义的<strong>右手坐标系</strong>，同时旋转角度的正负也遵循右手坐标系的约定。如下图所示</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">&nbsp;<img src="/upload/image/202136/161759814547.png" alt="" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><strong>4.1&nbsp;</strong><strong>绕X轴的旋转</strong></p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">在三维场景中，当一个点P(x,y,z)绕x轴旋转<em>θ</em>角得到点P’(x’,y’,z’)。由于是绕x轴进行的旋转，因此x坐标保持不变，y和z组成的yoz（o是坐标原点）平面上进行的是一个二维的旋转，可以参考上图（y轴类似于二维旋转中的x轴，z轴类似于二维旋转中的y轴），于是有：<br/><em>x</em>′=<em>x</em><br/><em>y</em>′=<em>ycosθ</em>−<em>zsinθ</em><br/><em>z</em>′=<em>ysinθ</em>+<em>zcosθ</em><br/>写成（4x4）矩阵的形式</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">&nbsp;<img src="/upload/image/202136/161759743557.png" alt="" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><strong>4.2&nbsp;</strong><strong>绕Y轴旋转</strong></p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">绕Y轴的旋转和绕X轴的旋转类似，Y坐标保持不变，除Y轴之外，ZOX组成的平面进行一次二维的旋转（Z轴类似于二维旋转的X轴，X轴类似于二维旋转中的Y轴，<strong>注意这里是ZOX，而不是XOZ</strong>，观察上图中右手系的图片可以很容易了解到这一点），同样有：<br/><em>x</em>′=<em>zsinθ</em>+<em>xcosθ</em><br/><em>y</em>′=<em>y</em><br/><em>z</em>′=<em>zcosθ</em>−<em>xsinθ</em><br/>写成（4x4）矩阵的形式</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><img src="/upload/image/202136/161800836658.png" alt="" width="351" height="124" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="text-align:center;line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><strong>4.3&nbsp;</strong><strong>绕Z轴旋转</strong></p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">与上面类似，绕Z轴旋转，Z坐标保持不变，xoy组成的平面内正好进行一次二维旋转（和上面讨论二维旋转的情况完全一样）</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><img src="/upload/image/202136/161800855296.png" alt="" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="text-align:center;line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><strong>4.4&nbsp;</strong><strong>小结</strong></p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">上面描述了三维变换中绕单一轴旋转的矩阵表达形式，绕三个轴旋转的矩阵很类似，其中绕y轴旋转的矩阵与绕x和z轴旋转的矩阵略有点不同（主要是三个轴向顺序和书写矩阵的方式不一致导致的，绕三个不同坐标旋转轴以及其他二个坐标轴组成平面的顺序是： XYZ(绕x轴） YZX（绕y轴） ZXY（绕z轴），其中绕y轴旋转，其他两个轴是ZX，这和我们书写矩阵按</p><p style="text-align:center;line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:center;line-height: 1.5; margin: 10px auto;"><img src="/upload/image/202136/161800823598.png" alt="" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:center;line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><br/>的方式不一致，而导致看起来绕Y轴旋转的矩阵似乎是和其他两个矩阵不一致。如果我们颠倒写法，将公式写成</p><p style="text-align:center;line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><img src="/upload/image/202136/161800307614.png" alt="" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><br/>的方式，那么这三个旋转矩阵看起来在形式上就统一了，都是</p><p style="text-align:center;line-height: 1.5; margin: 10px auto;"><img src="/upload/image/202136/161800143087.png" alt="" width="319" height="129" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:center;line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><br/>这种表现形式了（左上角都是−<em>sinθ</em>）</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><strong>5.&nbsp;</strong><strong>绕任意轴的三维旋转</strong></p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">绕任意轴的三维旋转可以使用类似于绕任意点的二维旋转一样，将旋转分解为一些列基本的旋转。绕任意轴旋转如下图所示：</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">&nbsp;<img src="/upload/image/202136/161800672541.png" alt="" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">P点绕向量u旋转<em>θ</em>角，得到点Q，已知P点的坐标和向量u，如何求Q点的坐标。<br/>我们可以把向量u进行一些旋转，让它与z轴重合，之后旋转P到Q就作了一次绕Z轴的三维基本旋转，之后我们再执行反向的旋转，将向量u变回到它原来的方向，也就是说需要进行的操作如下：<br/>1. 将旋转轴u绕x轴旋转至xoz平面<br/>2. 将旋转轴u绕y轴旋转至于z轴重合<br/>3. 绕z轴旋转<em>θ</em>角<br/>4. 执行步骤2的逆过程<br/>5. 执行步骤1的逆过程<br/>原始的旋转轴u如下图所示：</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><img src="/upload/image/202136/161800976163.png" alt="" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><br/>第1、2、3步骤如下图所示：<br/><br/><img src="/upload/image/202136/161800273037.png" alt="" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="line-height: 1.5; margin: 10px auto;"><img src="/upload/image/202136/161800818733.png" alt="" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><img src="/upload/image/202136/161800350802.png" alt="" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><br/></p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">步骤1将向量u旋转至xoz平面的操作是一个绕x轴的旋转操作，步骤2将向量u旋转到与z轴重合，第1、2步骤的示意图如下：</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><img src="/upload/image/202136/161800210412.png" alt="" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><br/>作点P在yoz平面的投影点q，q的坐标是（0, b, c)，原点o与q点的连线oq和z轴的夹角就是u绕x轴旋转的角度。通过这次旋转使得u向量旋转到xoz平面（图中的or向量）【步骤1】<br/>过r点作z轴的垂线，or与z轴的夹角为<em>β</em>, 这个角度就是绕Y轴旋转的角度，通过这次旋转使得u向量旋转到与z轴重合【步骤2】</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">步骤1中绕x轴旋转的是一次基本的绕x轴的三维旋转，按照之前的讨论，旋转矩阵是：</p><p style="text-align:center;line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:center;line-height: 1.5; margin: 10px auto;"><img src="/upload/image/202136/161800880257.png" alt="" width="284" height="163" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="text-align:center;line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><br/>这里的<em>θ</em>就是图中所示的<em>α</em>角 （注意<em>α</em>角度是绕x旋转的正的角度）<br/>从图中我们还可以得到：</p><p style="text-align:center;line-height: 1.5; margin: 10px auto;"><img src="/upload/image/202136/161800797590.png" alt="" width="294" height="245" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><br/>于是旋转矩阵(记作&nbsp;<em>R</em><em>x</em>(<em>α</em>))为：</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><img src="/upload/image/202136/161800118464.png" alt="" width="355" height="203" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><br/>在完成步骤1之后，向量u被变换到了r的位置，我们继续步骤2的操作，绕y轴旋转<strong>负的</strong><em>β</em>角（注意：这里的<em>β</em>是负的），经过这次变换之后向量u与z轴完全重合，由于这一步也是执行的一次绕Y轴的基本旋转，旋转矩阵（记作&nbsp;<em>R</em><em>y</em>(−<em>β</em>))为：</p><p style="text-align:center;line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><img src="/upload/image/202136/161800309170.png" alt="" width="257" height="137" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><br/>使用−<em>β</em>替换表达式中的<em>θ</em>，此外根据图中描述，我们可以计算得到：</p><p style="text-align:center;line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><img src="/upload/image/202136/161800238896.png" alt="" width="259" height="211" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><br/>带入上面的表达式，于是旋转矩阵(记作&nbsp;<em>R</em><em>y</em>(−<em>β</em>))为：</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><img src="/upload/image/202136/161800699949.png" alt="" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">在完成前面两个步骤之后，u方向和z轴完全重合，因此执行旋转<em>θ</em>角，执行的是一次绕z轴的基本三维旋转（记作&nbsp;<em>R</em>(<em>θ</em>)，根据之前的讨论，我们可以得到：</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><img src="/upload/image/202136/161800144324.png" alt="" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><br/>最后两步骤是前面1和2的逆操作，也就是绕Y轴旋转<em>β</em>&nbsp;和绕X轴旋转−<em>α</em>，这两个矩阵分别记作&nbsp;<em>R</em><em>y</em>(<em>β</em>) 和&nbsp;<em>R</em><em>x</em>(−<em>α</em>)，得到它们的方式很简单，只需要将上面步骤1和步骤2中的角度修改成相反数即可，也就是：</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><img src="/upload/image/202136/161800114907.png" alt="" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:center;line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">最终得到 绕任意轴u旋转的旋转矩阵是【因为使用的列向量，因此执行的是左乘（从右往左）】：</p><p style="text-align:center;line-height: 1.5; margin: 10px auto;"><em>M</em><em>R</em>=<em>R</em><em>x</em>(−<em>α</em>)<em>R</em><em>y</em>(<em>β</em>)<em>R</em><em>z</em>(<em>θ</em>)<em>R</em><em>y</em>(−<em>β</em>)<em>R</em><em>x</em>(<em>α</em>)=</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><img src="/upload/image/202136/161800204156.png" alt="" style="border: 0px; max-width: 100%; height: auto;"/></p><p style="line-height: 1.5; margin: 10px auto;">&nbsp;</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;"><br/><br/><em>(</em><em>注：式中的(u,v,w)对应上文中向量(a,b,c)，公式我自己笔算过，为了减少编辑公式的时间（使用LaTex编辑太繁琐，因此找了一张公式的图片贴在此处)</em></p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">如果向量是经过单位化的（单位向量），那么有<em>a</em>2+<em>b</em>2+<em>c</em>2=1，可以简化上述的公式，得到：</p><p style="text-align:left;line-height: 1.5; margin: 10px auto;">&nbsp;<img src="/upload/image/202136/161800706436.png" alt="" style="border: 0px; max-width: 100%; height: auto;"/></p><p>参考:https://www.cnblogs.com/zhoug2020/p/7842808.html</p>
             </div>
         </div>
        <div class="row" style="background-color: #eeeeee;">
            
             <div class="col-sm-4 text-left left-arror">
                 
             </div>
       
             <div class="col-sm-4 col-sm-offset-4 text-right right-arror">
                
             </div>
        
         </div>

    </div>
</div>
<div class="row">
    <div class="col-sm-12 text-center" style="padding-top: 10px;">
        <a href="https://www.onlinegdb.com/" target="_blank"><strong><font color="black">在线编程工具</font></strong></a>
    </div>
</div>
</div>
<script type="text/javascript">
// var siteHome = './';
var tutorial_id = 'a4c5ca6b';
var article_id = '7B97339c';
</script>

	
	
	
</body>