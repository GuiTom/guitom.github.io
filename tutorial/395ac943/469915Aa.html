<!-- <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd"> -->

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
 	<meta name="description" content="抖音数据分析服务">
 	<meta name="keywords" content="抖音排行榜,抖音数据,抖音营销-抖商助手 ">
    <meta name="viewport" content="width=device-width, initial-scale=1 , user-scalable=no">
    
<!-- <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/> -->
<title>错误和异常-python3教程</title>


    

	<link rel="stylesheet" href="/lib/css/bootstrap.min.css">
    <link rel="stylesheet" href="/lib/css/bootstrap-maizi.css">
    <link rel="stylesheet" href="/lib/css/animate.css">
    <!-- <script  src="https://libs.baidu.com/jquery/1.10.2/jquery.min.js"></script> -->
    <script src="/lib/js/jquery.min.js"></script>
    <script src="/lib/js/bootstrap.min.js"></script>
    
    <script src="/lib/js/jquery.singlePageNav.min.js"></script>
    <script src="/lib/js/jquery.cookie.js"></script>
    
	
<script src="/js/article.js"></script>
<!--百度统计-->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?a684a10bc59d54f03381c502765556bb";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


<script type="text/javascript">
    // var siteHome = './';
    var staticHTMLUri = '/';
</script>


</head>
<body>
	
		  
		   <div style="height:50px;margin-bottom: 0px;"><nav class="navbar navbar-default navbar-fixed-top" id="topNav">		   <div class="container"> 
		    <!--导航--> 
		    <!--小屏幕导航按钮和logo--> 
		    <div class="navbar-header"> 
		     <button class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> 
		     <a href="https://guitom.github.io/" class="navbar-brand" style="color: #1196EE;"><span>趣通小教程</span>&nbsp;<span>guitom.github.io</span></a> 
		    </div> 
		    <!--小屏幕导航按钮和logo--> 
		    <div class="navbar-collapse collapse"> 
		     <div class="profile navbar-right"> 
			      <!-- 	<ul class="nav navbar-nav"> 
			       		<li><a href="#home" data-toggle="modal" id="collector">收藏夹</a></li>
			       		<li><a href="#home" data-toggle="modal" id="homePageloginBtn">登录</a></li> 
			      		<li><a href="#home" data-toggle="modal" id="loginStatus"></a></li> 
			      	</ul>  -->
		      		
		     </div> 
		     <ul class="nav navbar-nav navbar-center"> 
		      <li> 
		       <!--搜索框--> 
		       <div class="input-group hidden" id="searchBox" style="max-width:300px;height:30px;margin-top:10px;"> 
		        <input type="text" class="form-control input-md" placeholder="输入关键词" onkeydown="onKeyDown(event)" /> 
		        <span class="input-group-addon btn btn-primary">搜索</span> 
		       </div> 
		       <!--搜索框--></li> 
	
		     </ul> 
		    </div> 
		   </div> </nav></div>
		  
	
	
<style type="text/css">
    .panel-heading{
        padding-top: 5px;
        padding-right: 5px;
    }
    .panel-body {
        padding: 10px;
    }
    .panel-body div {
        padding-left: 20px;
    }

    .menu-container{
        border-width: 2px;
        border-radius: 5px;
        border-color: green;
        border:5px solid #f6f4f0;
    
    }
    .menu-container div{
        padding-right: 10px;
        padding-left: 10px;
        line-height: 30px;
    }
    .chapter{
        background-color: #e2e2e2;
        font-weight: bold;
    }
    .course{
        background-color: #e2e2e2;
        text-indent: 1em;
    }
    .normal{
        color: black;
    }
    .selected{
        background-color: #1196EE;
        color: white;
    }
    .block{
        /*border: thick solid #e1e1e1;*/
        
    }
    .preview{
        display: none;
    }
    .item{
        border-bottom-style:solid;
        border-width: 1px;
        border-color: #f1f1f1;
        cursor:pointer;
    }
    a:hover{
        text-decoration: none;
    }
    body{
        background-color: #dfdfdf;
    }
    td {
        border: 1px solid #ddd
    }
</style>
<div class="container">
<!-- <div class="row">
    <div class="col-sm-12" style="background-color: white;border-radius:8px;border-style: solid;border-color:#dfdfdf ">
        
    </div>
</div> -->
<div class="row">
    <div class="col-sm-12 text-center" style="padding-top: 20px;">
        <strong>错误和异常-python3教程</strong>
    </div>
</div>
<div class="row" style="margin-top:5px;">
    <div class="col-sm-2" style="overflow-y: auto;max-height:100%;overflow-x: hidden;">
                <div class="menu-container">
                    <div id="2c6Ba358" class="item chapter normal">python3简介</div><div id="bA0332c7" class="item course normal">Windows下安装</div><div id="C12838cA" class="item course normal">Linux下安装</div><div id="8b320BA6" class="item course normal">Mac下安装</div><div id="8a70482B" class="item chapter normal">基本语法</div><div id="0A658BA6" class="item course normal">数据类型</div><div id="9303CBc7" class="item course normal">Number</div><div id="c9349ABa" class="item course normal">字符串</div><div id="3AC2c6BA" class="item course normal">正则匹配</div><div id="a2469092" class="item course normal">列表 list</div><div id="0117b3c7" class="item course normal">元组</div><div id="aBC84A59" class="item course normal">字典</div><div id="4b8ccBC2" class="item course normal">集合</div><div id="507B4c4C" class="item chapter normal">运算符</div><div id="982A21c1" class="item course normal">算术运算符</div><div id="8484b5B0" class="item course normal">关系运算符</div><div id="c476Cc31" class="item course normal">赋值运算符</div><div id="0Ab81b19" class="item course normal">位运算符</div><div id="C6AabA97" class="item course normal">成员运算符</div><div id="0768cA9a" class="item course normal">逻辑运算符</div><div id="A4218806" class="item course normal">身份运算符</div><div id="B14746ba" class="item chapter normal">流程控制</div><div id="8b1b5118" class="item course normal">条件控制</div><div id="B8C881B2" class="item course normal">循环语句</div><div id="304c96C5" class="item course normal">迭代器与生成器</div><div id="7728974A" class="item course normal">函数</div><div id="94a9b784" class="item course normal">模块</div><div id="925AbB6C" class="item course normal">输入输出</div><div id="8aBaC7b4" class="item course normal">文件操作</div><div id="469915Aa" class="item course normal">错误和异常</div><div id="2a78B0c1" class="item chapter normal">面向对象</div><div id="4a2c2bBA" class="item chapter normal">命名空间和作用域</div><div id="12CCc4A0" class="item chapter normal">标准库概览</div><div id="2142868c" class="item chapter normal">Python操作数据库</div><div id="50300125" class="item course normal">操作redis</div><div id="AcA970B3" class="item course normal">操作mysql</div><div id="1a7CC121" class="item course normal">操作Elastic Search</div><div id="9AaCbb30" class="item course normal selected">操作mongodb</div>
                </div>
                <div style="float:left;margin-top: 30px;width: 1px;height: 100%;background: darkgray;"></div>
        </div>
    <div class="col-sm-8" style="overflow-y: auto;height: 100%;background-color: white;padding-top:20px;">
         <div class="row ontent">
             <div class="col-sm-12">
                 <h1 style="border: 0px; margin: 0px 0px 10px; padding: 0px; font-size: 2.1em; color: rgb(0, 0, 0); text-indent: initial;">错误和异常</h1><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">作为 Python 初学者，在刚学习 Python 编程时，经常会看到一些报错信息，在前面我们没有提及，这章节我们会专门介绍。</p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">Python 有两种错误很容易辨认：语法错误和异常。</p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">Python assert（断言）用于判断一个表达式，在表达式条件为 false 的时候触发异常。</p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;"><img src="/upload/image/20191119/195838938724.png" style="border: 0px; margin: 0px; padding: 0px; max-width: 100%; height: auto;"/></p><h2 style="border: 0px; margin: 2px 0px; padding: 0px; font-size: 1.8em; line-height: 1.8em;">语法错误</h2><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">Python 的语法错误或者称之为解析错，是初学者经常碰到的，如下实例</p><p><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">&gt;&gt;&gt;</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">while</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">True</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">print</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&#39;Hello world&#39;</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>&nbsp; File&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;&lt;stdin&gt;&quot;</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;line&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">1</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">in</span>&nbsp;?<br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">while</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">True</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">print</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&#39;Hello world&#39;</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;^<br/><span style="border: 0px; margin: 0px; padding: 0px; color: teal;">SyntaxError</span>: invalid syntax<br/></p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">这个例子中，函数 print() 被检查到有错误，是它前面缺少了一个冒号&nbsp;<span class="marked" style="border: 0px; margin: 0px; padding: 0.2em; background-color: rgb(236, 234, 230); border-radius: 3px; font-weight: bold; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;">:</span>&nbsp;。</p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">语法分析器指出了出错的一行，并且在最先找到的错误的位置标记了一个小小的箭头。</p><h2 style="border: 0px; margin: 2px 0px; padding: 0px; font-size: 1.8em; line-height: 1.8em;">异常</h2><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">即便 Python 程序的语法是正确的，在运行它的时候，也有可能发生错误。运行期检测到的错误被称为异常。</p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">大多数的异常都不会被程序处理，都以错误信息的形式展现在这里:</p><p><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">&gt;&gt;&gt;</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">10</span>&nbsp;*&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">1</span>/<span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">0</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 85, 0);"># 0 不能作为除数，触发异常</span><br/>Traceback&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span>most recent call last<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span>:<br/>&nbsp; File&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;&lt;stdin&gt;&quot;</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;line&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">1</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">in</span>&nbsp;?<br/><span style="border: 0px; margin: 0px; padding: 0px; color: teal;">ZeroDivisionError</span>: division by zero<br/><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">&gt;&gt;&gt;</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">4</span>&nbsp;+ spam*<span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">3</span>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 85, 0);"># spam 未定义，触发异常</span><br/>Traceback&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span>most recent call last<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span>:<br/>&nbsp; File&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;&lt;stdin&gt;&quot;</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;line&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">1</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">in</span>&nbsp;?<br/><span style="border: 0px; margin: 0px; padding: 0px; color: teal;">NameError</span>: name&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&#39;spam&#39;</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">is</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">not</span>&nbsp;defined<br/><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">&gt;&gt;&gt;</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&#39;2&#39;</span>&nbsp;+&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">2</span>&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 85, 0);"># int 不能与 str 相加，触发异常</span><br/>Traceback&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span>most recent call last<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span>:<br/>&nbsp; File&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;&lt;stdin&gt;&quot;</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;line&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">1</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">in</span>&nbsp;?<br/><span style="border: 0px; margin: 0px; padding: 0px; color: teal;">TypeError</span>: Can<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&#39;t convert &#39;</span><span style="border: 0px; margin: 0px; padding: 0px; color: teal;">int</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&#39; object to str implicitly<br/></span></p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">异常以不同的类型出现，这些类型都作为信息的一部分打印出来: 例子中的类型有 ZeroDivisionError，NameError 和 TypeError。</p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">错误信息的前面部分显示了异常发生的上下文，并以调用栈的形式显示具体信息。</p><h2 style="border: 0px; margin: 2px 0px; padding: 0px; font-size: 1.8em; line-height: 1.8em;">异常处理</h2><h3 style="border: 0px; margin: 8px 0px; padding: 0px; font-size: 1.4em;">try/except</h3><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">异常捕捉可以使用&nbsp;<span class="marked" style="border: 0px; margin: 0px; padding: 0.2em; background-color: rgb(236, 234, 230); border-radius: 3px; font-weight: bold; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;">try/except</span>&nbsp;语句。</p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;"><img src="/upload/image/20191119/195839189860.png" style="border: 0px; margin: 0px; padding: 0px; max-width: 100%; height: auto;"/></p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">以下例子中，让用户输入一个合法的整数，但是允许用户中断这个程序（使用 Control-C 或者操作系统提供的方法）。用户中断的信息会引发一个 KeyboardInterrupt 异常。</p><p><span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">while</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">True</span>:<br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">try</span>:<br/>&nbsp; &nbsp; &nbsp; &nbsp; x&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">=</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">int</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: teal;">input</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;请输入一个数字: &quot;</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">break</span><br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">except</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">ValueError</span>:<br/>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">print</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;您输入的不是数字，请再次尝试输入！&quot;</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/></p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">try 语句按照如下方式工作；</p><ul style="list-style-type: none;" class=" list-paddingleft-2"><li><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px 10px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;">首先，执行 try 子句（在关键字 try 和关键字 except 之间的语句）。</p></li><li><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px 10px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;">如果没有异常发生，忽略 except 子句，try 子句执行后结束。</p></li><li><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px 10px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;">如果在执行 try 子句的过程中发生了异常，那么 try 子句余下的部分将被忽略。如果异常的类型和 except 之后的名称相符，那么对应的 except 子句将被执行。</p></li><li><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px 10px; line-height: 2em; overflow-wrap: break-word; word-break: break-all;">如果一个异常没有与任何的 excep 匹配，那么这个异常将会传递给上层的 try 中。</p></li></ul><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">一个 try 语句可能包含多个except子句，分别来处理不同的特定的异常。最多只有一个分支会被执行。</p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">处理程序将只针对对应的 try 子句中的异常进行处理，而不是其他的 try 的处理程序中的异常。</p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">一个except子句可以同时处理多个异常，这些异常将被放在一个括号里成为一个元组，例如:</p><p><span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">except</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: teal;">RuntimeError</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">TypeError</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">NameError</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span>:<br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">pass</span><br/></p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">最后一个except子句可以忽略异常的名称，它将被当作通配符使用。你可以使用这种方法打印一个错误信息，然后再次把异常抛出。</p><p><span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">import</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">sys</span><br/><br/><span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">try</span>:<br/>&nbsp; &nbsp; f&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">=</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">open</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&#39;myfile.txt&#39;</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>&nbsp; &nbsp; s&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">=</span>&nbsp;f.<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">readline</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>&nbsp; &nbsp; i&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">=</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">int</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span>s.<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">strip</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/><span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">except</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">OSError</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">as</span>&nbsp;err:<br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">print</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;OS error: {0}&quot;</span>.<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">format</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span>err<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/><span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">except</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">ValueError</span>:<br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">print</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;Could not convert data to an integer.&quot;</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/><span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">except</span>:<br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">print</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;Unexpected error:&quot;</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">sys</span>.<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">exc_info</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">[</span><span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">0</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">]</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">raise</span><br/></p><h3 style="border: 0px; margin: 8px 0px; padding: 0px; font-size: 1.4em;">try/except...else</h3><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;"><span class="marked" style="border: 0px; margin: 0px; padding: 0.2em; background-color: rgb(236, 234, 230); border-radius: 3px; font-weight: bold; font-family: SFMono-Regular, Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace;">try/except</span>&nbsp;语句还有一个可选的&nbsp;<strong style="border: 0px; margin: 0px; padding: 0px;">else</strong>&nbsp;子句，如果使用这个子句，那么必须放在所有的 except 子句之后。</p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">else 子句将在 try 子句没有发生任何异常的时候执行。</p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;"><img src="/upload/image/20191119/195839506899.png" style="border: 0px; margin: 0px; padding: 0px; max-width: 100%; height: auto;"/></p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">以下实例在 try 语句中判断文件是否可以打开，如果打开文件时正常的没有发生异常则执行 else 部分的语句，读取文件内容：</p><p><span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">for</span>&nbsp;arg&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">in</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">sys</span>.<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">argv</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">[</span><span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">1</span>:<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">]</span>:<br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">try</span>:<br/>&nbsp; &nbsp; &nbsp; &nbsp; f&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">=</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">open</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span>arg<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&#39;r&#39;</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">except</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">IOError</span>:<br/>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">print</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&#39;cannot open&#39;</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;arg<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">else</span>:<br/>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">print</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span>arg<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&#39;has&#39;</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">len</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span>f.<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">readlines</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&#39;lines&#39;</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>&nbsp; &nbsp; &nbsp; &nbsp; f.<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">close</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/></p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">使用 else 子句比把所有的语句都放在 try 子句里面要好，这样可以避免一些意想不到，而 except 又无法捕获的异常。</p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">异常处理并不仅仅处理那些直接发生在 try 子句中的异常，而且还能处理子句中调用的函数（甚至间接调用的函数）里抛出的异常。例如:</p><p><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">&gt;&gt;&gt;</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">def</span>&nbsp;this_fails<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span>:<br/>&nbsp; &nbsp; &nbsp; &nbsp; x&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">=</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">1</span>/<span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">0</span><br/>&nbsp; &nbsp;<br/><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">&gt;&gt;&gt;</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">try</span>:<br/>&nbsp; &nbsp; &nbsp; &nbsp; this_fails<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">except</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">ZeroDivisionError</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">as</span>&nbsp;err:<br/>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">print</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&#39;Handling run-time error:&#39;</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;err<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>&nbsp; &nbsp;<br/>Handling run-<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">time</span>&nbsp;error:&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">int</span>&nbsp;division&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">or</span>&nbsp;modulo by zero<br/></p><h3 style="border: 0px; margin: 8px 0px; padding: 0px; font-size: 1.4em;">try-finally 语句</h3><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">try-finally 语句无论是否发生异常都将执行最后的代码。</p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;"><img src="/upload/image/20191119/195839663998.png" style="border: 0px; margin: 0px; padding: 0px; max-width: 100%; height: auto;"/></p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">以下实例中 finally 语句无论异常是否发生都会执行：</p><h2 class="example" style="border: 0px; margin: 0px 0px 2px; padding: 0px; font-size: 14.4px; line-height: 1.8em; color: rgb(97, 127, 16); background-color: transparent;">实例</h2><p><span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">try</span>:<br/>&nbsp; &nbsp; runoob<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/><span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">except</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">AssertionError</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">as</span>&nbsp;error:<br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">print</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span>error<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/><span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">else</span>:<br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">try</span>:<br/>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">with</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">open</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&#39;file.log&#39;</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">as</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">file</span>:<br/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; read_data&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">=</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">file</span>.<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">read</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">except</span>&nbsp;FileNotFoundError&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">as</span>&nbsp;fnf_error:<br/>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">print</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span>fnf_error<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/><span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">finally</span>:<br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">print</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&#39;这句话，无论异常是否发生都会执行。&#39;</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/></p><hr style="background-color: rgb(212, 212, 212); color: rgb(212, 212, 212); height: 1px; border: 0px; clear: both;"/><h2 style="border: 0px; margin: 2px 0px; padding: 0px; font-size: 1.8em; line-height: 1.8em;">抛出异常</h2><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">Python 使用 raise 语句抛出一个指定的异常。</p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">raise语法格式如下：</p><pre class="prettyprint prettyprinted" style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; margin: 15px auto; padding: 10px 15px; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; line-height: 20px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace; white-space: pre-wrap; word-break: break-all; overflow-wrap: break-word; background-image: url(&quot;/images/codecolorer_bg.gif&quot;); background-position: center top; background-color: rgb(251, 251, 251);">raise&nbsp;[Exception&nbsp;[,&nbsp;args&nbsp;[,&nbsp;traceback]]]</pre><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;"><img src="/upload/image/20191119/195840677060.png" style="border: 0px; margin: 0px; padding: 0px; max-width: 100%; height: auto;"/></p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">以下实例如果 x 大于 5 就触发异常:</p><p>x&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">=</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">10</span><br/><span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">if</span>&nbsp;x&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">&gt;</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">5</span>:<br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">raise</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">Exception</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&#39;x 不能大于 5。x 的值为: {}&#39;</span>.<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">format</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span>x<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/></p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">执行以上代码会触发异常：</p><pre class="prettyprint prettyprinted" style="border-width: 1px 1px 1px 4px; border-style: solid; border-color: rgb(221, 221, 221); border-image: initial; margin: 15px auto; padding: 10px 15px; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; line-height: 20px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace; white-space: pre-wrap; word-break: break-all; overflow-wrap: break-word; background-image: url(&quot;/images/codecolorer_bg.gif&quot;); background-position: center top; background-color: rgb(251, 251, 251);">Traceback&nbsp;(most&nbsp;recent&nbsp;call&nbsp;last):
&nbsp;&nbsp;File&nbsp;&quot;test.py&quot;,&nbsp;line&nbsp;3,&nbsp;in&nbsp;&lt;module&gt;
&nbsp;&nbsp;&nbsp;&nbsp;raise&nbsp;Exception(&#39;x&nbsp;不能大于&nbsp;5。x&nbsp;的值为:&nbsp;{}&#39;.format(x))Exception:&nbsp;x&nbsp;不能大于&nbsp;5。x&nbsp;的值为:&nbsp;10</pre><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">raise 唯一的一个参数指定了要被抛出的异常。它必须是一个异常的实例或者是异常的类（也就是 Exception 的子类）。</p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">如果你只想知道这是否抛出了一个异常，并不想去处理它，那么一个简单的 raise 语句就可以再次把它抛出。</p><p><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">&gt;&gt;&gt;</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">try</span>:<br/>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">raise</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">NameError</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&#39;HiThere&#39;</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">except</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">NameError</span>:<br/>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">print</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&#39;An exception flew by!&#39;</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">raise</span><br/>&nbsp; &nbsp;<br/>An exception flew by<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">!</span><br/>Traceback&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span>most recent call last<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span>:<br/>&nbsp; File&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;&lt;stdin&gt;&quot;</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;line&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">2</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">in</span>&nbsp;?<br/><span style="border: 0px; margin: 0px; padding: 0px; color: teal;">NameError</span>: HiThere<br/></p><hr style="background-color: rgb(212, 212, 212); color: rgb(212, 212, 212); height: 1px; border: 0px; clear: both;"/><h2 style="border: 0px; margin: 2px 0px; padding: 0px; font-size: 1.8em; line-height: 1.8em;">用户自定义异常</h2><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">你可以通过创建一个新的异常类来拥有自己的异常。异常类继承自 Exception 类，可以直接继承，或者间接继承，例如:</p><p><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">&gt;&gt;&gt;</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">class</span>&nbsp;MyError<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: teal;">Exception</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span>:<br/>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">def</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: navy;">__init__</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: teal;">self</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;value<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span>:<br/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">self</span>.<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">value</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">=</span>&nbsp;value<br/>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">def</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: navy;">__str__</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: teal;">self</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span>:<br/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">return</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">repr</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: teal;">self</span>.<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">value</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>&nbsp; &nbsp;<br/><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">&gt;&gt;&gt;</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">try</span>:<br/>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">raise</span>&nbsp;MyError<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">2</span>*<span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">2</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">except</span>&nbsp;MyError&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">as</span>&nbsp;e:<br/>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">print</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&#39;My exception occurred, value:&#39;</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;e.<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">value</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>&nbsp; &nbsp;<br/>My exception occurred<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;value:&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">4</span><br/><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">&gt;&gt;&gt;</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">raise</span>&nbsp;MyError<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&#39;oops!&#39;</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>Traceback&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span>most recent call last<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span>:<br/>&nbsp; File&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;&lt;stdin&gt;&quot;</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;line&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">1</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">in</span>&nbsp;?<br/><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">__main__</span>.<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">MyError</span>:&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&#39;oops!&#39;</span><br/></p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">在这个例子中，类 Exception 默认的 __init__() 被覆盖。</p><p>&lt;p异常的类可以像其他的类一样做任何事情，但是通常都会比较简单，只提供一些错误相关的属性，并且允许处理异常的代码方便的获取这些信息。&lt; p=&quot;&quot;&gt;</p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">当创建一个模块有可能抛出多种不同的异常时，一种通常的做法是为这个包建立一个基础异常类，然后基于这个基础类为不同的错误情况创建不同的子类:</p><p><span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">class</span>&nbsp;Error<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: teal;">Exception</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span>:<br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;&quot;&quot;Base class for exceptions in this module.&quot;&quot;&quot;</span><br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">pass</span><br/><br/><span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">class</span>&nbsp;InputError<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span>Error<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span>:<br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;&quot;&quot;Exception raised for errors in the input.<br/><br/>&nbsp; &nbsp; Attributes:<br/>&nbsp; &nbsp; &nbsp; &nbsp; expression -- input expression in which the error occurred<br/>&nbsp; &nbsp; &nbsp; &nbsp; message -- explanation of the error<br/>&nbsp; &nbsp; &quot;&quot;&quot;</span><br/><br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">def</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: navy;">__init__</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: teal;">self</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;expression<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;message<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span>:<br/>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">self</span>.<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">expression</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">=</span>&nbsp;expression<br/>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">self</span>.<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">message</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">=</span>&nbsp;message<br/><br/><span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">class</span>&nbsp;TransitionError<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span>Error<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span>:<br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;&quot;&quot;Raised when an operation attempts a state transition that&#39;s not<br/>&nbsp; &nbsp; allowed.<br/><br/>&nbsp; &nbsp; Attributes:<br/>&nbsp; &nbsp; &nbsp; &nbsp; previous -- state at beginning of transition<br/>&nbsp; &nbsp; &nbsp; &nbsp; next -- attempted new state<br/>&nbsp; &nbsp; &nbsp; &nbsp; message -- explanation of why the specific transition is not allowed<br/>&nbsp; &nbsp; &quot;&quot;&quot;</span><br/><br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">def</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: navy;">__init__</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: teal;">self</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;previous<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;next<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;message<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span>:<br/>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">self</span>.<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">previous</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">=</span>&nbsp;previous<br/>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">self</span>.<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">next</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">=</span>&nbsp;next<br/>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">self</span>.<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">message</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">=</span>&nbsp;message<br/></p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">大多数的异常的名字都以&quot;Error&quot;结尾，就跟标准的异常命名一样。</p><hr style="background-color: rgb(212, 212, 212); color: rgb(212, 212, 212); height: 1px; border: 0px; clear: both;"/><h2 style="border: 0px; margin: 2px 0px; padding: 0px; font-size: 1.8em; line-height: 1.8em;">定义清理行为</h2><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">try 语句还有另外一个可选的子句，它定义了无论在任何情况下都会执行的清理行为。 例如:</p><p><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">&gt;&gt;&gt;</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">try</span>:<br/>... &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">raise</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">KeyboardInterrupt</span><br/>...&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">finally</span>:<br/>... &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">print</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&#39;Goodbye, world!&#39;</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>...<br/><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 85, 170);">Goodbye</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;world<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">!</span><br/>Traceback&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span>most recent call last<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span>:<br/>&nbsp; File&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;&lt;stdin&gt;&quot;</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;line&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">2</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">in</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">&lt;</span>module<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">&gt;</span><br/><span style="border: 0px; margin: 0px; padding: 0px; color: teal;">KeyboardInterrupt</span><br/></p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">以上例子不管 try 子句里面有没有发生异常，finally 子句都会执行。</p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">如果一个异常在 try 子句里（或者在 except 和 else 子句里）被抛出，而又没有任何的 except 把它截住，那么这个异常会在 finally 子句执行后被抛出。</p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">下面是一个更加复杂的例子（在同一个 try 语句里包含 except 和 finally 子句）:</p><p><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">&gt;&gt;&gt;</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">def</span>&nbsp;divide<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span>x<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;y<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span>:<br/>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">try</span>:<br/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; result&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">=</span>&nbsp;x / y<br/>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">except</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">ZeroDivisionError</span>:<br/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">print</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;division by zero!&quot;</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">else</span>:<br/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">print</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;result is&quot;</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;result<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">finally</span>:<br/>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">print</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;executing finally clause&quot;</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>&nbsp; &nbsp;<br/><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">&gt;&gt;&gt;</span>&nbsp;divide<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">2</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">1</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>result&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">is</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">2.0</span><br/>executing&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">finally</span>&nbsp;clause<br/><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">&gt;&gt;&gt;</span>&nbsp;divide<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">2</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">0</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>division by zero<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">!</span><br/>executing&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">finally</span>&nbsp;clause<br/><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">&gt;&gt;&gt;</span>&nbsp;divide<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;2&quot;</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;1&quot;</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/>executing&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">finally</span>&nbsp;clause<br/>Traceback&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span>most recent call last<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span>:<br/>&nbsp; File&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;&lt;stdin&gt;&quot;</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;line&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">1</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">in</span>&nbsp;?<br/>&nbsp; File&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;&lt;stdin&gt;&quot;</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;line&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: maroon;">3</span><span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">in</span>&nbsp;divide<br/><span style="border: 0px; margin: 0px; padding: 0px; color: teal;">TypeError</span>: unsupported operand&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">type</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span>s<span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">for</span>&nbsp;/:&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&#39;str&#39;</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">and</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&#39;str&#39;</span><br/></p><hr style="background-color: rgb(212, 212, 212); color: rgb(212, 212, 212); height: 1px; border: 0px; clear: both;"/><h2 style="border: 0px; margin: 2px 0px; padding: 0px; font-size: 1.8em; line-height: 1.8em;">预定义的清理行为</h2><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">一些对象定义了标准的清理行为，无论系统是否成功的使用了它，一旦不需要它了，那么这个标准的清理行为就会执行。</p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">这面这个例子展示了尝试打开一个文件，然后把内容打印到屏幕上:</p><p><span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">for</span>&nbsp;line&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">in</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">open</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;myfile.txt&quot;</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span>:<br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">print</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span>line<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;end<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">=</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;&quot;</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/></p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">以上这段代码的问题是，当执行完毕后，文件会保持打开状态，并没有被关闭。</p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">关键词 with 语句就可以保证诸如文件之类的对象在使用完之后一定会正确的执行他的清理方法:</p><p><span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">with</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: teal;">open</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;myfile.txt&quot;</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span>&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">as</span>&nbsp;f:<br/>&nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">for</span>&nbsp;line&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">in</span>&nbsp;f:<br/>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<span style="border: 0px; margin: 0px; padding: 0px; color: green; font-weight: bold;">print</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">(</span>line<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">,</span>&nbsp;end<span style="border: 0px; margin: 0px; padding: 0px; color: gray;">=</span><span style="border: 0px; margin: 0px; padding: 0px; color: rgb(170, 17, 17);">&quot;&quot;</span><span style="border: 0px; margin: 0px; padding: 0px; color: olive;">)</span><br/></p><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;">以上这段代码执行完毕后，就算在处理过程中出问题了，文件 f 总是会关闭。</p><hr style="background-color: rgb(212, 212, 212); color: rgb(212, 212, 212); height: 1px; border: 0px; clear: both;"/><h2 style="border: 0px; margin: 2px 0px; padding: 0px; font-size: 1.8em; line-height: 1.8em;">相关内容</h2><p style="border: 0px; margin-top: 0px; margin-bottom: 0px; padding: 0px; line-height: 2em; overflow-wrap: break-word; word-break: break-all; font-size: 13px;"><a href="https://www.runoob.com/python3/python3-assert.html" rel="noopener noreferrer" target="_blank" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 102, 0); transition-duration: 0.2s; transition-property: opacity; outline: none;">Python assert（断言）</a></p><p><a href="https://www.runoob.com/python3/python3-os-file-methods.html" style="border: 0px; margin: 0px; padding: 0px; color: rgb(0, 102, 0); text-decoration-line: none; transition-duration: 0.2s; transition-property: opacity; outline: none;"><span class="fa fa-arrow-left" aria-hidden="true" style="display: inline-block; font-variant-numeric: normal; font-variant-east-asian: normal; font-stretch: normal; font-size: 16px; line-height: 1; font-family: FontAwesome; text-rendering: auto; -webkit-font-smoothing: antialiased;"></span></a></p><p><br/></p>
             </div>
         </div>
        <div class="row" style="background-color: #eeeeee;">
            
             <div class="col-sm-4 text-left left-arror">
                 
             </div>
       
             <div class="col-sm-4 col-sm-offset-4 text-right right-arror">
                
             </div>
        
         </div>

    </div>
</div>
<div class="row">
    <div class="col-sm-12 text-center" style="padding-top: 10px;">
        <a href="https://www.onlinegdb.com/" target="_blank"><strong><font color="black">在线调试工具</font></strong></a>
    </div>
</div>
</div>
<script type="text/javascript">
// var siteHome = './';
var tutorial_id = '395ac943';
var article_id = '469915Aa';
</script>

	
		<div style="text-align: center; height: 60px;padding-top: 20px;">鄂ICP备17006386号-5</div>
	
</body>